<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .done {
            text-decoration: line-through;
        }
    </style>
</head>

<body>
    <form action="/todos/">
        <input type="text">
        <button>Todo</button>
    </form>
    <ul></ul>

    <script>
        const form = document.querySelector('form')
        const ulTag = document.querySelector('ul')

        function addTodo(event) {
            // INPUT tag에 사용자가 입력한 값이 필요하다.
            const inputTagValue = document.querySelector('input').value

            event.preventDefault()
                //  새로운 li 태그를 생성
            const liTag = document.createElement('li')
            liTag.textContent = inputTagValue

            const deleteTag = document.createElement('button')
            deleteTag.textContent = '※'

            liTag.appendChild(deleteTag)

            ulTag.appendChild(liTag)

        }

        form.addEventListener('submit', addTodo)
        ulTag.addEventListener('click', function(event) {
            // button Tag에서 이벤트가 발생했을 때,
            if (event.target.tagName === 'BUTTON') {
                // 그 button Tag가 속해있는 li 태그를 ul 태그로부터 삭제
                // 각 요소는 부모에 대한 정보도 있음
                event.target.parentNode.remove()
            }
            // LI태그가 클릭이 되었다면?
            // 취소선 그어주기
            else if (event.target.tagName === 'LI') {
                event.target.classList.toggle('done')

            }
        })
    </script>
</body>

</html>